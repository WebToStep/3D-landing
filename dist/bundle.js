(()=>{"use strict";var t=function(t){var e,n=document.querySelector("#timer-hours"),o=document.querySelector("#timer-minutes"),r=document.querySelector("#timer-seconds"),i=function(){var e=(new Date(t).getTime()-(new Date).getTime())/1e3,i=("0"+Math.floor(e%60)).slice(-2),a=("0"+Math.floor(e/60%60)).slice(-2),s=("0"+Math.floor(e/60/60)).slice(-2);return n.textContent=s,o.textContent=a,r.textContent=i,e};i()>0?e=setInterval(i,1e3):(clearInterval(e),n.textContent="00",o.textContent="00",r.textContent="00")};function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function n(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var o=function(){function t(n){var o,r=n.selector,i=n.pattern,a=void 0===i?{}:i,s=n.method,l=n.errorMessage;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.form=document.querySelector(r),this.pattern=a,this.method=s,this.elementsForm=(o=this.form.elements,function(t){if(Array.isArray(t))return e(t)}(o)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(o)||function(t,n){if(t){if("string"==typeof t)return e(t,n);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?e(t,n):void 0}}(o)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).filter((function(t){return"button"!==t.tagName.toLowerCase()&&"button"!==t.type})),this.errorMessage=l}var o,r;return o=t,(r=[{key:"init",value:function(){var t=this;this.applyStyle(),this.setPattern(),this.elementsForm.forEach((function(e){e.addEventListener("input",t.checkIt.bind(t)),e.addEventListener("blur",(function(){e.getAttribute("id").includes("name")&&1===e.value.length&&(e.value="",t.showError(e,t.errorMessage)),e.getAttribute("id").includes("email")&&(e.value.match(/^\w+@\w+\.\w{2,}$/gi)||(e.value="",t.showError(e,t.errorMessage)))}))}))}},{key:"isValid",value:function(t){var e=this,n={notEmpty:function(t){return""!==t.value.trim()},pattern:function(t,e){return e.test(t.value)}};if(this.method){var o=this.method[t.id];if(o)return o.every((function(o){return n[o[0]](t,e.pattern[o[1]])}))}else console.warn("Необходимо передать id полей ввода и методы проверки этих полей!");return!0}},{key:"checkIt",value:function(t){var e=t.target;this.isValid(e)?this.isValid(e)&&this.showSuccess(e):(e.value="",this.showError(e,this.errorMessage))}},{key:"showError",value:function(t,e){var n;t.classList.remove("success"),t.classList.add("error");var o=document.createElement("div");o.textContent=e?e[t.id]:"Ошибка в поле"+t.placeholder.toLowerCase(),o.classList.add("validator-error"),document.body.querySelector(".validator-error")?(document.body.querySelector(".validator-error").remove(),clearTimeout(n),this.showError(t,this.errorMessage)):(document.body.append(o),n=setTimeout((function(){o.classList.add("active"),setTimeout((function(){o.classList.add("hide"),setTimeout((function(){o.remove()}),4e3)}),3e3)}),10))}},{key:"showSuccess",value:function(t){t.classList.remove("error"),t.classList.add("success"),t.nextElementSibling&&t.nextElementSibling.classList.contains("validator-error")&&t.nextElementSibling.remove()}},{key:"applyStyle",value:function(){var t=document.createElement("style");t.textContent="\n      input.success{\n         border: 2px solid #4CAF50 !important;\n      }\n      input.error{\n         border: 2px solid #af4c4c !important;\n         background: #ffd1d1 !important;\n      }\n      .validator-error{\n        position:fixed !important;\n        right: 20px !important;\n        bottom: 20px !important;\n         background: #fff;\n         padding:5px 10px;\n         width: 200px;\n         min-height: 50px;\n         margin: 0px auto;\n         text-align: center; \n         border-radius: 0 2px 2px 0;\n         border-left: 3px solid #af4c4c;\n         font-size:12px;\n         fontFamily: sans-serif;\n         color:#af4c4c; \n         background: #ffd1d1 !important;\n         opacity: 1 !important;\n         transform: translateY(150%) !important;\n         transition: 1s transform, opacity 4s;\n         z-index:1000;\n        }\n        .validator-error.active{\n          transform: translateY(0) !important;\n        display:unset;\n      }\n      .validator-error.hide{\n        opacity: 0 !important;\n      display:unset;\n    }",document.head.appendChild(t)}},{key:"setPattern",value:function(){this.pattern.phone||(this.pattern.phone=/^\+?[78]([-()]*\d){10}$/gi),this.pattern.email||(this.pattern.email=/^\w+@\w+\.\w{2,}$/gi)}}])&&n(o.prototype,r),t}(),r=new o({selector:"#form1",pattern:{name:/[а-я ]/gi,email:/[\w\s\S@]/gi,phone:/[0-9+]/gi},method:{"form1-name":[["notEmpty"],["pattern","name"]],"form1-phone":[["notEmpty"],["pattern","phone"]],"form1-email":[["notEmpty"],["pattern","email"]]},errorMessage:{"form1-name":"Имя должно быть более 2х символов, Русского алфавита","form1-phone":"Телефон может содержать только цифры и знак +","form1-email":"email должен содержать знак @ и название домена(.ru, .com и тд.)"}}),i=new o({selector:"#form2",pattern:{name:/[а-я ]/gi,email:/[\w\s\S@]/gi,phone:/[0-9+]/gi,text:/[\w\s\S-.?!)(,:]/gi},method:{"form2-name":[["notEmpty"],["pattern","name"]],"form2-phone":[["notEmpty"],["pattern","phone"]],"form2-email":[["notEmpty"],["pattern","email"]],"form2-message":[["notEmpty"],["pattern","text"]]},errorMessage:{"form2-name":"Имя должно быть более 2х символов, Русского алфавита","form2-phone":"Телефон может содержать только цифры и знак +","form2-email":"email должен содержать знак @ и название домена(.ru, .com и тд.)"}}),a=new o({selector:"#form3",pattern:{name:/[а-я ]/gi,email:/[\w\s\S@]/gi,phone:/[0-9+]/gi},method:{"form3-name":[["notEmpty"],["pattern","name"]],"form3-phone":[["notEmpty"],["pattern","phone"]],"form3-email":[["notEmpty"],["pattern","email"]]},errorMessage:{"form3-name":"Имя должно быть более 2х символов, Русского алфавита","form3-phone":"Телефон может содержать только цифры и знак +","form3-email":"email должен содержать знак @ и название домена(.ru, .com и тд.)"}});function s(t,e){if(t){if("string"==typeof t)return l(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(t,e):void 0}}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function c(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}const d=function(){function t(e){var n=e.main,o=e.wrap,r=e.next,i=e.prev,a=e.infinity,s=void 0!==a&&a,l=e.position,c=void 0===l?0:l,d=e.slidesToShow,u=void 0===d?3:d,m=e.responsive,p=void 0===m?[]:m;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.main&&this.wrap||console.warn('slider-carusel: необходимы 2 селектора, "main" и "wrap"!'),this.main=document.querySelector(n),this.wrap=document.querySelector(o),this.slides=document.querySelector(o).children,this.next=document.querySelector(r),this.prev=document.querySelector(i),this.slidesToShow=u,this.options={position:c,withSlide:Math.floor(100/this.slidesToShow),infinity:s,maxPosition:this.slides.length-this.slidesToShow},this.responsive=p}var e,n;return e=t,(n=[{key:"init",value:function(){this.addGloClass(),this.addStyle(),this.prev&&this.next||this.addArrow(),this.controlSlider(),this.responsive&&this.responseInit()}},{key:"addGloClass",value:function(){this.main.classList.add("glo-slider"),this.wrap.classList.add("glo-slider__wrap");var t,e=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=s(t))){n&&(t=n);var o=0,r=function(){};return{s:r,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){l=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}(this.slides);try{for(e.s();!(t=e.n()).done;)t.value.classList.add("glo-slider__item")}catch(t){e.e(t)}finally{e.f()}}},{key:"addStyle",value:function(){var t=document.getElementById("sliderCarusel-style");t||((t=document.createElement("style")).id="sliderCarusel-style"),t.textContent="\n            .glo-slider {\n                position: relative !important;;\n                overflow: hidden !important;\n            }\n            .glo-slider__wrap{\n                display: flex !important;\n                transition: transform 0.5s !important;\n                will-change: transform !important;\n            }\n            .glo-slider__item{\n                display: flex !important;\n                align-items: center !important;\n                justify-content: center !important;\n                flex: 0 0 ".concat(this.options.withSlide,"% !important;\n                margin: auto 0 !important;\n            }\n        "),document.head.append(t)}},{key:"controlSlider",value:function(){this.prev.addEventListener("click",this.prevSlider.bind(this)),this.next.addEventListener("click",this.nextSlider.bind(this))}},{key:"prevSlider",value:function(){(this.options.infinity||this.options.position>0)&&(--this.options.position,this.options.position<0&&(this.options.position=this.options.maxPosition),this.wrap.style.transform="translateX(-".concat(this.options.position*this.options.withSlide,"%)"))}},{key:"nextSlider",value:function(){(this.options.infinity||this.options.position<this.options.maxPosition)&&(++this.options.position,this.options.position>this.options.maxPosition&&(this.options.position=0),this.wrap.style.transform="translateX(-".concat(this.options.position*this.options.withSlide,"%)"))}},{key:"addArrow",value:function(){this.prev=document.createElement("button"),this.next=document.createElement("button"),this.prev.className="glo-slider__prev",this.next.className="glo-slider__next",this.main.append(this.prev),this.main.append(this.next);var t=document.createElement("style");t.textContent="\n        .glo-slider__prev,\n        .glo-slider__next{\n            margin: 0 10px;\n            border: 20px solid transparent;\n            background: transparent;\n            position: absolute;\n        }\n        .glo-slider__next {\n            border-left-color: #19B5FE;\n            right: -40px;\n            top: 20%;\n        }\n        .glo-slider__prev {\n            border-right-color: #19B5FE;\n            left: -40px;\n            top: 20%;\n        }\n        .glo-slider__prev:hover,\n        .glo-slider__next:hover,\n        .glo-slider__prev:focus,\n        .glo-slider__next:focus {\n            background: transparent;\n            outline: transparent;\n        },\n        ",document.head.append(t)}},{key:"responseInit",value:function(){var t,e=this,n=this.slidesToShow,o=this.responsive.map((function(t){return t.breakpoint})),r=Math.max.apply(Math,function(t){if(Array.isArray(t))return l(t)}(t=o)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||s(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=function(){var t=document.documentElement.clientWidth;if(t<r)for(var i=0;i<o.length;i++)t<o[i]&&(e.slidesToShow=e.responsive[i].slidesToShow,e.options.withSlide=Math.floor(100/e.slidesToShow),e.addStyle());else e.slidesToShow=n,e.options.withSlide=Math.floor(100/e.slidesToShow),e.addStyle()};i(),window.addEventListener("resize",i)}}])&&c(e.prototype,n),t}();var u,m,p,h,f,v,y,g,S,w;void 0===localStorage.startTimer?(localStorage.startTimer=(u=new Date,1,(m=new Date(u)).setDate(m.getDate()+1),m),t(localStorage.startTimer)):t(localStorage.startTimer),w=document.querySelector("menu"),document.addEventListener("click",(function(t){var e=t.target;"active-menu"===w.className&&e.closest("a")?(t.preventDefault(),w.classList.toggle("active-menu")):"active-menu"!==w.className&&e.closest(".menu")?w.classList.toggle("active-menu"):"active-menu"!==w.className||e.closest("menu")||w.classList.toggle("active-menu")})),g=document.querySelector(".popup"),S=document.querySelector(".popup-content"),document.querySelectorAll(".popup-btn").forEach((function(t){t.addEventListener("click",(function(){if(g.style.display="block",screen.width>768){var t=-60,e=0;S.style.opacity=e,function n(){var o=requestAnimationFrame(n);t<=10?(t+=10,e+=.13,S.style.top=t+"%",S.style.opacity=e):cancelAnimationFrame(o)}()}var n=function t(e){"popup"!==e.target.className&&"popup-close"!==e.target.className||(g.style.display="none",g.removeEventListener("click",t))};g.addEventListener("click",(function(t){return n(t)}))}))})),document.querySelectorAll("a").forEach((function(t){var e=t.hash;"#"===t.hash[0]&&"#close"!==t.hash&&t.addEventListener("click",(function(t){t.preventDefault(),document.querySelector(e).scrollIntoView({behavior:"smooth",block:"start"})}))})),f=document.querySelector(".service-header"),v=document.querySelectorAll(".service-header-tab"),y=document.querySelectorAll(".service-tab"),f.addEventListener("click",(function(t){var e=t.target;(e=e.closest(".service-header-tab")).classList.contains("service-header-tab")&&v.forEach((function(t,n){t===e&&function(t){for(var e=0;e<y.length;e++)t===e?(v[e].classList.add("active"),y[e].classList.remove("d-none")):(v[e].classList.remove("active"),y[e].classList.add("d-none"))}(n)}))})),function(){var t,e=document.querySelectorAll(".portfolio-item"),n=document.querySelector(".portfolio-content"),o=document.querySelector(".portfolio-dots"),r=0;e.forEach((function(){var t=document.createElement("li");t.classList.add("dot"),o.append(t)}));var i=document.querySelectorAll(".dot");i[0].classList.add("dot-active");var a=function(t,e,n){t[e].classList.remove(n)},s=function(t,e,n){t[e].classList.add(n)},l=function(){a(e,r,"portfolio-item-active"),a(i,r,"dot-active"),++r>=e.length&&(r=0),s(e,r,"portfolio-item-active"),s(i,r,"dot-active")},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e3;t=setInterval(l,e)};n.addEventListener("click",(function(t){t.preventDefault();var n=t.target;n.matches(".portfolio-btn, .dot")&&(a(e,r,"portfolio-item-active"),a(i,r,"dot-active"),n.matches("#arrow-right")?r++:n.matches("#arrow-left")?r--:n.matches(".dot")&&i.forEach((function(t,e){t===n&&(r=e)})),r>=e.length&&(r=0),r<0&&(r=e.length-1),s(e,r,"portfolio-item-active"),s(i,r,"dot-active"))})),n.addEventListener("mouseover",(function(e){e.target.matches(".portfolio-btn, .dot")&&clearInterval(t)})),n.addEventListener("mouseout",(function(t){t.target.matches(".portfolio-btn, .dot")&&c()})),c(3e3)}(),p=document.getElementById("command"),h=function(t){t.target.matches(".command__photo")&&(t.target.getAttribute("src")===t.target.dataset.img?t.target.setAttribute("src",t.target.dataset.img.replace(/a\.jpg/,".jpg")):t.target.src=t.target.dataset.img)},p.addEventListener("mouseover",h),p.addEventListener("mouseout",h),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,e=document.querySelector(".calc-block"),n=document.querySelector(".calc-type"),o=document.querySelector(".calc-square"),r=document.querySelector(".calc-day"),i=document.querySelector(".calc-count"),a=document.getElementById("total"),s=function(){var e,s,l,c=1,d=1,u=n.options[n.selectedIndex].value,m=+o.value;i.value>1&&(d+=(i.value-1)/10),r.value&&r.value<5?c*=2:r.value&&r.value<10&&(c*=1.5),u&&m&&(e=t*u*m*d*c,s=0,l=setInterval((function(){s<e&&(s+=e/100)>e&&(a.textContent=Math.round(e),clearInterval(l)),s===e&&(a.textContent=Math.round(e),clearInterval(l)),a.textContent=Math.round(s)}),1))},l=function(t){return!(isNaN(parseFloat(t))||!isFinite(t))};e.addEventListener("change",(function(t){var e=t.target;(e.matches("select")||e.matches("input"))&&s()})),e.addEventListener("input",(function(t){var e=t.target;e.matches("input")&&(l(e.value)||(e.value=""))}))}(100),new d({main:".companies-wrapper",wrap:".companies-hor",slidesToShow:4,infinity:!0,responsive:[{breakpoint:1024,slidesToShow:3},{breakpoint:768,slidesToShow:2},{breakpoint:576,slidesToShow:1}]}).init(),r.init(),i.init(),a.init(),document.querySelectorAll("form").forEach((function(t){t.addEventListener("submit",(function(e){var n=document.createElement("div");n.style.cssText="font-size: 2rem;\n                                          color: #fff !important;";var o=document.createElement("section");o.innerHTML="<div class='sk-circle-bounce'>\n                                       <div class='sk-child sk-circle-1'></div>\n                                       <div class='sk-child sk-circle-2'></div>\n                                       <div class='sk-child sk-circle-3'></div>\n                                       <div class='sk-child sk-circle-4'></div>\n                                       <div class='sk-child sk-circle-5'></div>\n                                       <div class='sk-child sk-circle-6'></div>\n                                       <div class='sk-child sk-circle-7'></div>\n                                       <div class='sk-child sk-circle-8'></div>\n                                       <div class='sk-child sk-circle-9'></div>\n                                       <div class='sk-child sk-circle-10'></div>\n                                       <div class='sk-child sk-circle-11'></div>\n                                       <div class='sk-child sk-circle-12'></div>\n                                   </div>",e.preventDefault(),t.append(n),n.append(o);var r=new FormData(t),i={};r.forEach((function(t,e){return i[e]=t})),function(t){return fetch("./server.php",{method:"POST",headers:{"Content-Type":"aplication/json"},body:JSON.stringify(t)})}(i).then((function(t){if(200!==t.status)throw new Error(t.status);n.textContent="Спасибо! Мы скоро с вами свяжемся!"})).catch((function(t){n.textContent="Что то пошло не так...",console.error(t)})),e.target.querySelectorAll("input").forEach((function(t){return t.value=""})),t.querySelectorAll("input").forEach((function(t){return t.classList.remove("success")})),setTimeout((function(){return n.remove()}),5e3)}))}))})();